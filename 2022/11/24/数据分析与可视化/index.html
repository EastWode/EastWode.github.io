

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/muzi.jpg">
  <link rel="icon" href="/img/muzi.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="东木子">
  <meta name="keywords" content="">
  
    <meta name="description" content="本文展示了利用Python和kaggle数据集完成数据分析的主要流程和方法，更多信息请前往 数据可视化与Logit回归分析 获取。">
<meta property="og:type" content="article">
<meta property="og:title" content="数据分析与可视化">
<meta property="og:url" content="https://eastwode.gitee.io/2022/11/24/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/index.html">
<meta property="og:site_name" content="东木子的书屋">
<meta property="og:description" content="本文展示了利用Python和kaggle数据集完成数据分析的主要流程和方法，更多信息请前往 数据可视化与Logit回归分析 获取。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_13_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_15_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_16_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_17_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_19_1.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_20_1.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_21_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_22_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_23_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_24_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_67_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_69_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_77_0.png">
<meta property="og:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_78_0.png">
<meta property="article:published_time" content="2022-11-24T12:51:00.000Z">
<meta property="article:modified_time" content="2022-11-24T13:07:04.636Z">
<meta property="article:author" content="东木子">
<meta property="article:tag" content="Logit回归">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://eastwode.gitee.io/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_13_0.png">
  
  
  
  <title>数据分析与可视化 - 东木子的书屋</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"eastwode.gitee.io","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"IYdzx7L4HhTq4ugmU38bcTeL-gzGzoHsz","app_key":"AyfUXKKGpuk6w4nD9mSTJ9gQ","server_url":"https://iydzx7l4.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":true}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  
    
  



  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>东木子の书屋</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/ground.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="数据分析与可视化"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        东木子
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-24 20:51" pubdate>
          2022年11月24日
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          27k 字
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">数据分析与可视化</h1>
            
            
              <div class="markdown-body">
                
                <p>本文展示了利用Python和kaggle数据集完成数据分析的主要流程和方法，更多信息请前往 <a target="_blank" rel="noopener" href="https://www.kaggle.com/code/woodeast/logit/notebook">数据可视化与Logit回归分析</a> 获取。</p>
<span id="more"></span>
<h1 id="一-数据读取"><a class="markdownIt-Anchor" href="#一-数据读取"></a> 一、数据读取</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd   <span class="hljs-comment">#导入pandas库</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 从Excel中读取数据</span><br>dataset = pd.read_excel(<span class="hljs-string">&quot;Breast_Cancer.xlsx&quot;</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dataset.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Race</th>
      <th>Marital Status</th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Tumor Size</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Regional Node Examined</th>
      <th>Reginol Node Positive</th>
      <th>Survival Months</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>68</td>
      <td>White</td>
      <td>Married</td>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>3</td>
      <td>Regional</td>
      <td>4</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>24</td>
      <td>1</td>
      <td>60</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>White</td>
      <td>Married</td>
      <td>T2</td>
      <td>N2</td>
      <td>IIIA</td>
      <td>Moderately differentiated</td>
      <td>2</td>
      <td>Regional</td>
      <td>35</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>14</td>
      <td>5</td>
      <td>62</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>2</th>
      <td>58</td>
      <td>White</td>
      <td>Divorced</td>
      <td>T3</td>
      <td>N3</td>
      <td>IIIC</td>
      <td>Moderately differentiated</td>
      <td>2</td>
      <td>Regional</td>
      <td>63</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>14</td>
      <td>7</td>
      <td>75</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>3</th>
      <td>58</td>
      <td>White</td>
      <td>Married</td>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>3</td>
      <td>Regional</td>
      <td>18</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>2</td>
      <td>1</td>
      <td>84</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>4</th>
      <td>47</td>
      <td>White</td>
      <td>Married</td>
      <td>T2</td>
      <td>N1</td>
      <td>IIB</td>
      <td>Poorly differentiated</td>
      <td>3</td>
      <td>Regional</td>
      <td>41</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>3</td>
      <td>1</td>
      <td>50</td>
      <td>Alive</td>
    </tr>
  </tbody>
</table>
</div>
<h4 id="特征描述"><a class="markdownIt-Anchor" href="#特征描述"></a> 特征描述</h4>
<table>
<thead>
<tr>
<th style="text-align:left">特征</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Age</td>
<td style="text-align:left">年龄</td>
</tr>
<tr>
<td style="text-align:left">Race</td>
<td style="text-align:left">种族：白人，黑人，其他（美洲印第安人/阿拉斯加土著、亚洲/太平洋岛民）</td>
</tr>
<tr>
<td style="text-align:left">Marital Status</td>
<td style="text-align:left">婚姻状况：已婚，单身，离婚，分居，丧偶</td>
</tr>
<tr>
<td style="text-align:left">T Stage</td>
<td style="text-align:left">T分期：肿瘤直径为依据</td>
</tr>
<tr>
<td style="text-align:left">N Stage</td>
<td style="text-align:left">N分期：局部淋巴结转移情况为依据</td>
</tr>
<tr>
<td style="text-align:left">6th Stage</td>
<td style="text-align:left">AJCC第六版分期：原位癌、肿瘤大小、局部淋巴结转移和器官转移等为依据</td>
</tr>
<tr>
<td style="text-align:left">differentiate</td>
<td style="text-align:left">分化程度: 未分化，低分化，中等分化，高分化</td>
</tr>
<tr>
<td style="text-align:left">Grade</td>
<td style="text-align:left">等级：高等级意味着癌症增长更快，更容易扩散</td>
</tr>
<tr>
<td style="text-align:left">A Stage</td>
<td style="text-align:left">A分期： 局部（未转移），远处（转移）</td>
</tr>
<tr>
<td style="text-align:left">Tumor Size</td>
<td style="text-align:left">肿瘤大小</td>
</tr>
<tr>
<td style="text-align:left">Estrogen Status</td>
<td style="text-align:left">雌激素状态：ER阳性乳腺癌</td>
</tr>
<tr>
<td style="text-align:left">Progesterone Status</td>
<td style="text-align:left">孕激素状态：PR阳性乳腺癌</td>
</tr>
<tr>
<td style="text-align:left">Regional Node Examined</td>
<td style="text-align:left">检查的区域节点：记录病理检查的局部淋巴结总数</td>
</tr>
<tr>
<td style="text-align:left">Regional Node Positive</td>
<td style="text-align:left">区域节点阳性数：记录检查局部阳性淋巴结的数量</td>
</tr>
<tr>
<td style="text-align:left">Survival Months</td>
<td style="text-align:left">生存时间（月）</td>
</tr>
<tr>
<td style="text-align:left">Status</td>
<td style="text-align:left">结局状态：存活，死亡</td>
</tr>
</tbody>
</table>
<h1 id="二-查看数据详细信息"><a class="markdownIt-Anchor" href="#二-查看数据详细信息"></a> 二、查看数据详细信息</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dataset.info() <span class="hljs-comment"># 数据整体信息</span><br></code></pre></td></tr></table></figure>
<pre><code class="hljs">&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 4024 entries, 0 to 4023
Data columns (total 16 columns):
 #   Column                  Non-Null Count  Dtype 
---  ------                  --------------  ----- 
 0   Age                     4024 non-null   int64 
 1   Race                    4024 non-null   object
 2   Marital Status          4024 non-null   object
 3   T Stage                 4024 non-null   object
 4   N Stage                 4024 non-null   object
 5   6th Stage               4024 non-null   object
 6   differentiate           4024 non-null   object
 7   Grade                   4024 non-null   object
 8   A Stage                 4024 non-null   object
 9   Tumor Size              4024 non-null   int64 
 10  Estrogen Status         4024 non-null   object
 11  Progesterone Status     4024 non-null   object
 12  Regional Node Examined  4024 non-null   int64 
 13  Reginol Node Positive   4024 non-null   int64 
 14  Survival Months         4024 non-null   int64 
 15  Status                  4024 non-null   object
dtypes: int64(5), object(11)
memory usage: 503.1+ KB
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dataset.nunique()   <span class="hljs-comment"># 查看各列的不同值的数量</span><br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Age                        40
Race                        3
Marital Status              5
T Stage                     4
N Stage                     3
6th Stage                   5
differentiate               4
Grade                       4
A Stage                     2
Tumor Size                110
Estrogen Status             2
Progesterone Status         2
Regional Node Examined     54
Reginol Node Positive      38
Survival Months           107
Status                      2
dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dataset[<span class="hljs-string">&#x27;Status&#x27;</span>].value_counts() <span class="hljs-comment"># 查看列的取值</span><br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Alive    3408
Dead      616
Name: Status, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">dataset.describe() <span class="hljs-comment"># 定量资料的统计描述</span><br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Reginol Node Positive</th>
      <th>Survival Months</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>4024.000000</td>
      <td>4024.000000</td>
      <td>4024.000000</td>
      <td>4024.000000</td>
      <td>4024.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>53.972167</td>
      <td>30.473658</td>
      <td>14.357107</td>
      <td>4.158052</td>
      <td>71.297962</td>
    </tr>
    <tr>
      <th>std</th>
      <td>8.963134</td>
      <td>21.119696</td>
      <td>8.099675</td>
      <td>5.109331</td>
      <td>22.921430</td>
    </tr>
    <tr>
      <th>min</th>
      <td>30.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>47.000000</td>
      <td>16.000000</td>
      <td>9.000000</td>
      <td>1.000000</td>
      <td>56.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>54.000000</td>
      <td>25.000000</td>
      <td>14.000000</td>
      <td>2.000000</td>
      <td>73.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>61.000000</td>
      <td>38.000000</td>
      <td>19.000000</td>
      <td>5.000000</td>
      <td>90.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>69.000000</td>
      <td>140.000000</td>
      <td>61.000000</td>
      <td>46.000000</td>
      <td>107.000000</td>
    </tr>
  </tbody>
</table>
</div>
<h1 id="三-数据可视化探索"><a class="markdownIt-Anchor" href="#三-数据可视化探索"></a> 三、数据可视化探索</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-comment"># %matplotlib inline   </span><br><span class="hljs-comment"># %config InlineBackend.figure_format = &#x27;retina&#x27; </span><br><span class="hljs-comment"># plt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;FangSong&#x27;]    # 指定字体，比如FangSong(仿宋)</span><br><span class="hljs-comment"># plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False    # 正常显示符号（-）</span><br></code></pre></td></tr></table></figure>
<h3 id="绘图基础"><a class="markdownIt-Anchor" href="#绘图基础"></a> 绘图基础</h3>
<ul>
<li>画布，坐标系: fig, ax = plt.subplots(nrows, ncols, figsize=(m,n))</li>
<li>直条图: sns.countplot(data, x, y, hue, ax)</li>
<li>直方图: sns.histplot(data, x, y, bins, kde, hue, ax)</li>
<li>散点图: sns.scatterplot(data, x, y, hue, ax)</li>
<li>箱线图: sns.boxplot(data, x, y, ax)</li>
<li>热图: sns.heatmap(data, cmap, annot, ax)</li>
<li>自定义图标题: ax.set_title(label, fontsize)</li>
<li>自定义横轴名: ax.set_xlabel(label, fontsize)</li>
<li>自定义纵轴名: ax.set_ylabel(label, fontsize)</li>
<li>保存图片: plt.savefig(filename, dpi=300, bbox_inches=‘tight’)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig1, ax1 = plt.subplots(figsize=(<span class="hljs-number">6</span>,<span class="hljs-number">4</span>))<br>sns.scatterplot(data=dataset, x=<span class="hljs-string">&#x27;Reginol Node Positive&#x27;</span>, y=<span class="hljs-string">&#x27;Survival Months&#x27;</span>, ax=ax1)<br><br>ax1.set_title(<span class="hljs-string">&#x27;淋巴结转移阳性数量与生存时间的散点图&#x27;</span>)<br>ax1.set_xlabel(<span class="hljs-string">&#x27;淋巴结转移阳性数量&#x27;</span>)<br>ax1.set_ylabel(<span class="hljs-string">&#x27;生存时间&#x27;</span>)<br><br>plt.savefig(<span class="hljs-string">&#x27;1.tif&#x27;</span>, dpi=<span class="hljs-number">300</span>, bbox_inches=<span class="hljs-string">&#x27;tight&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_13_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<h2 id="一定性数据可视化探索"><a class="markdownIt-Anchor" href="#一定性数据可视化探索"></a> （一）定性数据可视化探索</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(nrows=<span class="hljs-number">1</span>, ncols=<span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))  <br>ax1 = ax[<span class="hljs-number">0</span>]    <span class="hljs-comment"># 坐标系1</span><br>ax2 = ax[<span class="hljs-number">1</span>]    <span class="hljs-comment"># 坐标系2</span><br><br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax1, x=<span class="hljs-string">&#x27;Race&#x27;</span>,    )<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax2, x=<span class="hljs-string">&#x27;Marital Status&#x27;</span>,)<br><br>plt.tight_layout() <span class="hljs-comment"># 自适应排版</span><br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_15_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(nrows=<span class="hljs-number">1</span>, ncols=<span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))  <br>ax1 = ax[<span class="hljs-number">0</span>]    <span class="hljs-comment"># 坐标系1</span><br>ax2 = ax[<span class="hljs-number">1</span>]    <span class="hljs-comment"># 坐标系2</span><br><br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax1, x=<span class="hljs-string">&#x27;Estrogen Status&#x27;</span>,    )<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax2, x=<span class="hljs-string">&#x27;Progesterone Status&#x27;</span>,)<br><br>plt.tight_layout() <span class="hljs-comment"># 自适应排版</span><br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_16_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, axes = plt.subplots(nrows=<span class="hljs-number">2</span>, ncols=<span class="hljs-number">3</span>, figsize=(<span class="hljs-number">14</span>,<span class="hljs-number">8</span>))<br>ax1 = axes[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]<br>ax2 = axes[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]<br>ax3 = axes[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]<br>ax4 = axes[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]<br>ax5 = axes[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]<br>ax6 = axes[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br><br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax1, x=<span class="hljs-string">&#x27;T Stage &#x27;</span>,     )<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax2, x=<span class="hljs-string">&#x27;N Stage&#x27;</span>,      )<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax3, x=<span class="hljs-string">&#x27;6th Stage&#x27;</span>,    )<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax4, x=<span class="hljs-string">&#x27;A Stage&#x27;</span>,      )<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax5, x=<span class="hljs-string">&#x27;differentiate&#x27;</span>,)<br>sns.countplot(data=dataset, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, ax=ax6, x=<span class="hljs-string">&#x27;Grade&#x27;</span>,        )<br><br>plt.setp(ax5.get_xticklabels(), rotation=<span class="hljs-number">30</span>, ha=<span class="hljs-string">&quot;right&quot;</span>)  <span class="hljs-comment"># 旋转刻度值标签</span><br><br>plt.tight_layout() <br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_17_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<h2 id="二定量数据可视化探索"><a class="markdownIt-Anchor" href="#二定量数据可视化探索"></a> （二）定量数据可视化探索</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 直方图</span><br>fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>,<span class="hljs-number">4</span>))<br><br>sns.histplot(data=dataset, bins=<span class="hljs-number">20</span>, kde=<span class="hljs-literal">True</span>, ax=ax, x=<span class="hljs-string">&#x27;Age&#x27;</span>)<br><br></code></pre></td></tr></table></figure>
<pre><code class="hljs">&lt;AxesSubplot:xlabel='Age', ylabel='Count'&gt;
</code></pre>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_19_1.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 箱线图</span><br>fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>,<span class="hljs-number">4</span>)) <br><br>sns.boxplot(data=dataset, ax=ax, x=<span class="hljs-string">&#x27;Status&#x27;</span>, y=<span class="hljs-string">&#x27;Age&#x27;</span>)<br><br></code></pre></td></tr></table></figure>
<pre><code class="hljs">&lt;AxesSubplot:xlabel='Status', ylabel='Age'&gt;
</code></pre>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_20_1.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(nrows=<span class="hljs-number">1</span>, ncols=<span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))  <br>ax1 = ax[<span class="hljs-number">0</span>]<br>ax2 = ax[<span class="hljs-number">1</span>]<br><br>sns.histplot(data=dataset, bins=<span class="hljs-number">20</span>, kde=<span class="hljs-literal">True</span>, ax=ax1, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, x=<span class="hljs-string">&#x27;Age&#x27;</span>)<br>sns.boxplot(data=dataset, ax=ax2, x=<span class="hljs-string">&#x27;Status&#x27;</span>, y=<span class="hljs-string">&#x27;Age&#x27;</span>)<br><br>plt.tight_layout() <br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_21_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(nrows=<span class="hljs-number">1</span>, ncols=<span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))  <br>ax1 = ax[<span class="hljs-number">0</span>]<br>ax2 = ax[<span class="hljs-number">1</span>]<br><br>sns.histplot(data=dataset, bins=<span class="hljs-number">20</span>, kde=<span class="hljs-literal">True</span>, ax=ax1, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, x=<span class="hljs-string">&#x27;Tumor Size&#x27;</span>)<br>sns.boxplot(data=dataset, ax=ax2, x=<span class="hljs-string">&#x27;Status&#x27;</span>, y=<span class="hljs-string">&#x27;Tumor Size&#x27;</span>)<br><br>plt.tight_layout() <br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_22_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(nrows=<span class="hljs-number">1</span>, ncols=<span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))  <br>ax1 = ax[<span class="hljs-number">0</span>]<br>ax2 = ax[<span class="hljs-number">1</span>]<br><br>sns.histplot(data=dataset, bins=<span class="hljs-number">20</span>, kde=<span class="hljs-literal">True</span>, ax=ax1, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, x=<span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>)<br>sns.boxplot(data=dataset, ax=ax2, x=<span class="hljs-string">&#x27;Status&#x27;</span>, y=<span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>)<br><br>plt.tight_layout() <br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_23_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(nrows=<span class="hljs-number">1</span>, ncols=<span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">4</span>))  <br>ax1 = ax[<span class="hljs-number">0</span>]<br>ax2 = ax[<span class="hljs-number">1</span>]<br><br>sns.histplot(data=dataset, bins=<span class="hljs-number">20</span>, kde=<span class="hljs-literal">True</span>, ax=ax1, hue=<span class="hljs-string">&#x27;Status&#x27;</span>, x=<span class="hljs-string">&#x27;Reginol Node Positive&#x27;</span>)<br>sns.boxplot(data=dataset, ax=ax2, x=<span class="hljs-string">&#x27;Status&#x27;</span>, y=<span class="hljs-string">&#x27;Reginol Node Positive&#x27;</span>)<br><br>plt.tight_layout() <br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_24_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<h1 id="四-数据预处理"><a class="markdownIt-Anchor" href="#四-数据预处理"></a> 四、数据预处理</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df = dataset.copy()<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Race</th>
      <th>Marital Status</th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Tumor Size</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Regional Node Examined</th>
      <th>Reginol Node Positive</th>
      <th>Survival Months</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>68</td>
      <td>White</td>
      <td>Married</td>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>3</td>
      <td>Regional</td>
      <td>4</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>24</td>
      <td>1</td>
      <td>60</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>White</td>
      <td>Married</td>
      <td>T2</td>
      <td>N2</td>
      <td>IIIA</td>
      <td>Moderately differentiated</td>
      <td>2</td>
      <td>Regional</td>
      <td>35</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>14</td>
      <td>5</td>
      <td>62</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>2</th>
      <td>58</td>
      <td>White</td>
      <td>Divorced</td>
      <td>T3</td>
      <td>N3</td>
      <td>IIIC</td>
      <td>Moderately differentiated</td>
      <td>2</td>
      <td>Regional</td>
      <td>63</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>14</td>
      <td>7</td>
      <td>75</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>3</th>
      <td>58</td>
      <td>White</td>
      <td>Married</td>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>3</td>
      <td>Regional</td>
      <td>18</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>2</td>
      <td>1</td>
      <td>84</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>4</th>
      <td>47</td>
      <td>White</td>
      <td>Married</td>
      <td>T2</td>
      <td>N1</td>
      <td>IIB</td>
      <td>Poorly differentiated</td>
      <td>3</td>
      <td>Regional</td>
      <td>41</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>3</td>
      <td>1</td>
      <td>50</td>
      <td>Alive</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df.columns<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Index(['Age', 'Race', 'Marital Status', 'T Stage ', 'N Stage', '6th Stage',
       'differentiate', 'Grade', 'A Stage', 'Tumor Size', 'Estrogen Status',
       'Progesterone Status', 'Regional Node Examined',
       'Reginol Node Positive', 'Survival Months', 'Status'],
      dtype='object')
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 列名（特征名）重命名</span><br>df.columns = [<span class="hljs-string">&#x27;Age&#x27;</span>, <span class="hljs-string">&#x27;Race&#x27;</span>, <span class="hljs-string">&#x27;Marital Status&#x27;</span>, <span class="hljs-string">&#x27;T Stage&#x27;</span>, <span class="hljs-string">&#x27;N Stage&#x27;</span>, <span class="hljs-string">&#x27;6th Stage&#x27;</span>,<br>              <span class="hljs-string">&#x27;differentiate&#x27;</span>, <span class="hljs-string">&#x27;Grade&#x27;</span>, <span class="hljs-string">&#x27;A Stage&#x27;</span>, <span class="hljs-string">&#x27;Tumor Size&#x27;</span>, <span class="hljs-string">&#x27;Estrogen Status&#x27;</span>,<br>              <span class="hljs-string">&#x27;Progesterone Status&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>,<br>              <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <span class="hljs-string">&#x27;Survival Months&#x27;</span>, <span class="hljs-string">&#x27;Status&#x27;</span>]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df.columns<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Index(['Age', 'Race', 'Marital Status', 'T Stage', 'N Stage', '6th Stage',
       'differentiate', 'Grade', 'A Stage', 'Tumor Size', 'Estrogen Status',
       'Progesterone Status', 'Regional Node Examined',
       'Regional Node Positive', 'Survival Months', 'Status'],
      dtype='object')
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&#x27;Grade&#x27;</span>].value_counts()<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">2                        2351
3                        1111
1                         543
 anaplastic; Grade IV      19
Name: Grade, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 变量值重编码 df.loc[index, columns_name] = value</span><br><br>df.loc[df[<span class="hljs-string">&#x27;Grade&#x27;</span>]==<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Grade&#x27;</span>] = <span class="hljs-string">&#x27;Ⅰ&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Grade&#x27;</span>]==<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Grade&#x27;</span>] = <span class="hljs-string">&#x27;Ⅱ&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Grade&#x27;</span>]==<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Grade&#x27;</span>] = <span class="hljs-string">&#x27;Ⅲ&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Grade&#x27;</span>]==<span class="hljs-string">&#x27; anaplastic; Grade IV&#x27;</span>, <span class="hljs-string">&#x27;Grade&#x27;</span>] = <span class="hljs-string">&#x27;IV&#x27;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&#x27;Grade&#x27;</span>].value_counts()<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Ⅱ     2351
Ⅲ     1111
Ⅰ      543
IV      19
Name: Grade, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&#x27;Marital Status&#x27;</span>].value_counts()<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Married      2643
Single        615
Divorced      486
Widowed       235
Separated      45
Name: Marital Status, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df.loc[df[<span class="hljs-string">&#x27;Marital Status&#x27;</span>] == <span class="hljs-string">&#x27;Divorced&#x27;</span>, <span class="hljs-string">&#x27;Marital Status&#x27;</span>] = <span class="hljs-string">&#x27;Other&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Marital Status&#x27;</span>] == <span class="hljs-string">&#x27;Widowed&#x27;</span>, <span class="hljs-string">&#x27;Marital Status&#x27;</span>] = <span class="hljs-string">&#x27;Other&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Marital Status&#x27;</span>] == <span class="hljs-string">&#x27;Separated&#x27;</span>, <span class="hljs-string">&#x27;Marital Status&#x27;</span>] = <span class="hljs-string">&#x27;Other&#x27;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&#x27;Marital Status&#x27;</span>].value_counts()<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Married    2643
Other       766
Single      615
Name: Marital Status, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">df.loc[df[<span class="hljs-string">&#x27;Age&#x27;</span>]&gt;=<span class="hljs-number">50</span>, <span class="hljs-string">&#x27;Age&#x27;</span>] = <span class="hljs-number">2</span><br>df.loc[df[<span class="hljs-string">&#x27;Age&#x27;</span>]&gt;=<span class="hljs-number">40</span>, <span class="hljs-string">&#x27;Age&#x27;</span>] = <span class="hljs-number">1</span><br>df.loc[df[<span class="hljs-string">&#x27;Age&#x27;</span>]&gt;=<span class="hljs-number">30</span>, <span class="hljs-string">&#x27;Age&#x27;</span>] = <span class="hljs-number">0</span><br><br>df.loc[df[<span class="hljs-string">&#x27;Age&#x27;</span>]==<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Age&#x27;</span>] = <span class="hljs-string">&#x27;elderly&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Age&#x27;</span>]==<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Age&#x27;</span>] = <span class="hljs-string">&#x27;middle aged&#x27;</span><br>df.loc[df[<span class="hljs-string">&#x27;Age&#x27;</span>]==<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Age&#x27;</span>] = <span class="hljs-string">&#x27;thirties&#x27;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df[<span class="hljs-string">&#x27;Age&#x27;</span>].value_counts()<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">elderly        2670
middle aged    1124
thirties        230
Name: Age, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Race</th>
      <th>Marital Status</th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Tumor Size</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>elderly</td>
      <td>White</td>
      <td>Married</td>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>Ⅲ</td>
      <td>Regional</td>
      <td>4</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>24</td>
      <td>1</td>
      <td>60</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>1</th>
      <td>elderly</td>
      <td>White</td>
      <td>Married</td>
      <td>T2</td>
      <td>N2</td>
      <td>IIIA</td>
      <td>Moderately differentiated</td>
      <td>Ⅱ</td>
      <td>Regional</td>
      <td>35</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>14</td>
      <td>5</td>
      <td>62</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>2</th>
      <td>elderly</td>
      <td>White</td>
      <td>Other</td>
      <td>T3</td>
      <td>N3</td>
      <td>IIIC</td>
      <td>Moderately differentiated</td>
      <td>Ⅱ</td>
      <td>Regional</td>
      <td>63</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>14</td>
      <td>7</td>
      <td>75</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>3</th>
      <td>elderly</td>
      <td>White</td>
      <td>Married</td>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>Ⅲ</td>
      <td>Regional</td>
      <td>18</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>2</td>
      <td>1</td>
      <td>84</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>4</th>
      <td>middle aged</td>
      <td>White</td>
      <td>Married</td>
      <td>T2</td>
      <td>N1</td>
      <td>IIB</td>
      <td>Poorly differentiated</td>
      <td>Ⅲ</td>
      <td>Regional</td>
      <td>41</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>3</td>
      <td>1</td>
      <td>50</td>
      <td>Alive</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 数据逻辑判断</span><br>df.loc[df[<span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>]&gt;df[<span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>],:]<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Race</th>
      <th>Marital Status</th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Tumor Size</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>
<h1 id="五-统计检验"><a class="markdownIt-Anchor" href="#五-统计检验"></a> 五、统计检验</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 正态性检验 Shapiro–Wilk test</span><br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> shapiro<br><br>num_columns = [<span class="hljs-string">&#x27;Tumor Size&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <span class="hljs-string">&#x27;Survival Months&#x27;</span>]<br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> num_columns:<br>    stat,p = shapiro(df[column])<br>    <span class="hljs-built_in">print</span>(column, <span class="hljs-string">&quot;\n 统计量：%f &quot;</span> %stat,<span class="hljs-string">&quot; p值为：%f \n&quot;</span> %p)<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Tumor Size 
 统计量：0.841386   p值为：0.000000 

Regional Node Examined 
 统计量：0.959947   p值为：0.000000 

Regional Node Positive 
 统计量：0.653167   p值为：0.000000 

Survival Months 
 统计量：0.962401   p值为：0.000000 
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 方差齐性检验 levene检验</span><br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> levene<br>num_columns = [<span class="hljs-string">&#x27;Tumor Size&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <span class="hljs-string">&#x27;Survival Months&#x27;</span>]<br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> num_columns:<br>    d1 = df.loc[df[<span class="hljs-string">&#x27;Status&#x27;</span>]==<span class="hljs-string">&#x27;Alive&#x27;</span>, column]<br>    d2 = df.loc[df[<span class="hljs-string">&#x27;Status&#x27;</span>]==<span class="hljs-string">&#x27;Dead&#x27;</span>, column]<br>    stat, p = levene(d1, d2)<br>    <span class="hljs-built_in">print</span>(column, <span class="hljs-string">&quot;\n 统计量：%f &quot;</span> %stat,<span class="hljs-string">&quot; p值为：%f \n&quot;</span> %p)<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Tumor Size 
 统计量：25.620942   p值为：0.000000 

Regional Node Examined 
 统计量：2.684287   p值为：0.101421 

Regional Node Positive 
 统计量：218.336354   p值为：0.000000 

Survival Months 
 统计量：48.542707   p值为：0.000000 
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 独立样本t检验</span><br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> ttest_ind<br>num_columns = [<span class="hljs-string">&#x27;Tumor Size&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <span class="hljs-string">&#x27;Survival Months&#x27;</span>]<br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> num_columns:<br>    d1 = df.loc[df[<span class="hljs-string">&#x27;Status&#x27;</span>]==<span class="hljs-string">&#x27;Alive&#x27;</span>, column]<br>    d2 = df.loc[df[<span class="hljs-string">&#x27;Status&#x27;</span>]==<span class="hljs-string">&#x27;Dead&#x27;</span>, column]<br>    stat,p = ttest_ind(d1,d2)<br>    <span class="hljs-built_in">print</span>(column, <span class="hljs-string">&quot;\n 统计量：%f &quot;</span> %stat,<span class="hljs-string">&quot; p值为：%f \n&quot;</span> %p)<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Tumor Size 
 统计量：-8.588885   p值为：0.000000 

Regional Node Examined 
 统计量：-2.206548   p值为：0.027402 

Regional Node Positive 
 统计量：-16.839798   p值为：0.000000 

Survival Months 
 统计量：34.373652   p值为：0.000000 
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Kruskal-wallis H检验</span><br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> kruskal<br>num_columns = [<span class="hljs-string">&#x27;Tumor Size&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <span class="hljs-string">&#x27;Survival Months&#x27;</span>]<br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> num_columns:<br>    d1 = df.loc[df[<span class="hljs-string">&#x27;Status&#x27;</span>]==<span class="hljs-string">&#x27;Alive&#x27;</span>, column]<br>    d2 = df.loc[df[<span class="hljs-string">&#x27;Status&#x27;</span>]==<span class="hljs-string">&#x27;Dead&#x27;</span>, column]<br>    stat,p = kruskal(d1,d2)<br>    <span class="hljs-built_in">print</span>(column, <span class="hljs-string">&quot;\n 统计量：%f &quot;</span> %stat,<span class="hljs-string">&quot; p值为：%f \n&quot;</span> %p)<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Tumor Size 
 统计量：79.489347   p值为：0.000000 

Regional Node Examined 
 统计量：3.347812   p值为：0.067294 

Regional Node Positive 
 统计量：193.064051   p值为：0.000000 

Survival Months 
 统计量：694.131827   p值为：0.000000 
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 卡方检验</span><br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> chi2_contingency<br>num_columns = [<span class="hljs-string">&#x27;Age&#x27;</span>, <span class="hljs-string">&#x27;Race&#x27;</span>, <span class="hljs-string">&#x27;Marital Status&#x27;</span>, <span class="hljs-string">&#x27;T Stage&#x27;</span>, <span class="hljs-string">&#x27;N Stage&#x27;</span>, <span class="hljs-string">&#x27;6th Stage&#x27;</span>,<br>       <span class="hljs-string">&#x27;differentiate&#x27;</span>, <span class="hljs-string">&#x27;Grade&#x27;</span>, <span class="hljs-string">&#x27;A Stage&#x27;</span>, <span class="hljs-string">&#x27;Estrogen Status&#x27;</span>,<span class="hljs-string">&#x27;Progesterone Status&#x27;</span>]<br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> num_columns:<br>    stat,p,dof,expected = chi2_contingency(pd.crosstab(df[column],df[<span class="hljs-string">&#x27;Status&#x27;</span>]))<br>    <span class="hljs-built_in">print</span>(column, <span class="hljs-string">&quot;\n 统计量：%f &quot;</span> %stat,<span class="hljs-string">&quot; p值：%f \n&quot;</span> %p)<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Age 
 统计量：15.289546   p值：0.000479 

Race 
 统计量：27.970007   p值：0.000001 

Marital Status 
 统计量：21.145650   p值：0.000026 

T Stage 
 统计量：103.476309   p值：0.000000 

N Stage 
 统计量：269.929143   p值：0.000000 

6th Stage 
 统计量：281.648443   p值：0.000000 

differentiate 
 统计量：112.556276   p值：0.000000 

Grade 
 统计量：112.556276   p值：0.000000 

A Stage 
 统计量：35.764727   p值：0.000000 

Estrogen Status 
 统计量：135.155739   p值：0.000000 

Progesterone Status 
 统计量：124.885388   p值：0.000000 
</code></pre>
<h1 id="六-数据编码"><a class="markdownIt-Anchor" href="#六-数据编码"></a> 六、数据编码</h1>
<h2 id="一定量资料"><a class="markdownIt-Anchor" href="#一定量资料"></a> （一）定量资料</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">X_num = df[[<span class="hljs-string">&#x27;Tumor Size&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <span class="hljs-string">&#x27;Survival Months&#x27;</span> ]]<br>X_num.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>24</td>
      <td>1</td>
      <td>60</td>
    </tr>
    <tr>
      <th>1</th>
      <td>35</td>
      <td>14</td>
      <td>5</td>
      <td>62</td>
    </tr>
    <tr>
      <th>2</th>
      <td>63</td>
      <td>14</td>
      <td>7</td>
      <td>75</td>
    </tr>
    <tr>
      <th>3</th>
      <td>18</td>
      <td>2</td>
      <td>1</td>
      <td>84</td>
    </tr>
    <tr>
      <th>4</th>
      <td>41</td>
      <td>3</td>
      <td>1</td>
      <td>50</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">X_num.describe()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>4024.000000</td>
      <td>4024.000000</td>
      <td>4024.000000</td>
      <td>4024.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>30.473658</td>
      <td>14.357107</td>
      <td>4.158052</td>
      <td>71.297962</td>
    </tr>
    <tr>
      <th>std</th>
      <td>21.119696</td>
      <td>8.099675</td>
      <td>5.109331</td>
      <td>22.921430</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>16.000000</td>
      <td>9.000000</td>
      <td>1.000000</td>
      <td>56.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>25.000000</td>
      <td>14.000000</td>
      <td>2.000000</td>
      <td>73.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>38.000000</td>
      <td>19.000000</td>
      <td>5.000000</td>
      <td>90.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>140.000000</td>
      <td>61.000000</td>
      <td>46.000000</td>
      <td>107.000000</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 数据标准化</span><br>X_num_norm = (X_num - X_num.mean()) / X_num.std()<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">X_num_norm.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-1.253506</td>
      <td>1.190528</td>
      <td>-0.618095</td>
      <td>-0.492900</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.214319</td>
      <td>-0.044089</td>
      <td>0.164786</td>
      <td>-0.405645</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.540095</td>
      <td>-0.044089</td>
      <td>0.556227</td>
      <td>0.161510</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.590617</td>
      <td>-1.525630</td>
      <td>-0.618095</td>
      <td>0.554156</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.498414</td>
      <td>-1.402168</td>
      <td>-0.618095</td>
      <td>-0.929173</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">X_num_norm.describe()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>4.024000e+03</td>
      <td>4.024000e+03</td>
      <td>4.024000e+03</td>
      <td>4.024000e+03</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.679270e-17</td>
      <td>5.650439e-17</td>
      <td>1.187475e-16</td>
      <td>3.063598e-16</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-1.395553e+00</td>
      <td>-1.649092e+00</td>
      <td>-6.180949e-01</td>
      <td>-3.066910e+00</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>-6.853156e-01</td>
      <td>-6.613978e-01</td>
      <td>-6.180949e-01</td>
      <td>-6.674087e-01</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>-2.591731e-01</td>
      <td>-4.408910e-02</td>
      <td>-4.223746e-01</td>
      <td>7.425531e-02</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>3.563660e-01</td>
      <td>5.732196e-01</td>
      <td>1.647864e-01</td>
      <td>8.159193e-01</td>
    </tr>
    <tr>
      <th>max</th>
      <td>5.185981e+00</td>
      <td>5.758613e+00</td>
      <td>8.189320e+00</td>
      <td>1.557583e+00</td>
    </tr>
  </tbody>
</table>
</div>
<h2 id="二定性资料"><a class="markdownIt-Anchor" href="#二定性资料"></a> (二)定性资料</h2>
<h3 id="二分类资料或等级资料"><a class="markdownIt-Anchor" href="#二分类资料或等级资料"></a> 二分类资料或等级资料</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">X_deg = df[[<span class="hljs-string">&#x27;T Stage&#x27;</span>, <span class="hljs-string">&#x27;N Stage&#x27;</span>, <span class="hljs-string">&#x27;6th Stage&#x27;</span>,<span class="hljs-string">&#x27;differentiate&#x27;</span>, <br>            <span class="hljs-string">&#x27;Grade&#x27;</span>, <span class="hljs-string">&#x27;A Stage&#x27;</span>,<span class="hljs-string">&#x27;Estrogen Status&#x27;</span>,<span class="hljs-string">&#x27;Progesterone Status&#x27;</span>,<span class="hljs-string">&#x27;Status&#x27;</span>]]<br><br>X_deg.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>Ⅲ</td>
      <td>Regional</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>1</th>
      <td>T2</td>
      <td>N2</td>
      <td>IIIA</td>
      <td>Moderately differentiated</td>
      <td>Ⅱ</td>
      <td>Regional</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>2</th>
      <td>T3</td>
      <td>N3</td>
      <td>IIIC</td>
      <td>Moderately differentiated</td>
      <td>Ⅱ</td>
      <td>Regional</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>3</th>
      <td>T1</td>
      <td>N1</td>
      <td>IIA</td>
      <td>Poorly differentiated</td>
      <td>Ⅲ</td>
      <td>Regional</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>Alive</td>
    </tr>
    <tr>
      <th>4</th>
      <td>T2</td>
      <td>N1</td>
      <td>IIB</td>
      <td>Poorly differentiated</td>
      <td>Ⅲ</td>
      <td>Regional</td>
      <td>Positive</td>
      <td>Positive</td>
      <td>Alive</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 编码</span><br>pd.set_option(<span class="hljs-string">&#x27;mode.chained_assignment&#x27;</span>, <span class="hljs-literal">None</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;Status&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;Status&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;Alive&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Dead&#x27;</span>:<span class="hljs-number">1</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;Grade&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;Grade&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;Ⅰ&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Ⅱ&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Ⅲ&#x27;</span>:<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;IV&#x27;</span>:<span class="hljs-number">3</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;T Stage&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;T Stage&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;T1&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;T2&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;T3&#x27;</span>:<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;T4&#x27;</span>:<span class="hljs-number">3</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;N Stage&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;N Stage&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;N1&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;N2&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;N3&#x27;</span>:<span class="hljs-number">2</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;A Stage&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;A Stage&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;Regional&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Distant&#x27;</span>:<span class="hljs-number">1</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;6th Stage&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;6th Stage&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;IIA&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;IIB&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;IIIA&#x27;</span>:<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;IIIB&#x27;</span>:<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;IIIC&#x27;</span>:<span class="hljs-number">4</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;Estrogen Status&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;Estrogen Status&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;Negative&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Positive&#x27;</span>:<span class="hljs-number">1</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;Progesterone Status&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;Progesterone Status&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;Negative&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Positive&#x27;</span>:<span class="hljs-number">1</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br>X_deg.loc[:,<span class="hljs-string">&#x27;differentiate&#x27;</span>] = X_deg[<span class="hljs-string">&#x27;differentiate&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;Well differentiated&#x27;</span>:<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Moderately differentiated&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Poorly differentiated&#x27;</span>:<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Undifferentiated&#x27;</span>:<span class="hljs-number">3</span>&#125;).astype(<span class="hljs-string">&quot;int64&quot;</span>)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">X_deg.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="无序多分类变量"><a class="markdownIt-Anchor" href="#无序多分类变量"></a> 无序多分类变量</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">X_cat = df[[<span class="hljs-string">&#x27;Age&#x27;</span>,<span class="hljs-string">&#x27;Race&#x27;</span>,<span class="hljs-string">&#x27;Marital Status&#x27;</span>]]<br>X_cat.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Race</th>
      <th>Marital Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>elderly</td>
      <td>White</td>
      <td>Married</td>
    </tr>
    <tr>
      <th>1</th>
      <td>elderly</td>
      <td>White</td>
      <td>Married</td>
    </tr>
    <tr>
      <th>2</th>
      <td>elderly</td>
      <td>White</td>
      <td>Other</td>
    </tr>
    <tr>
      <th>3</th>
      <td>elderly</td>
      <td>White</td>
      <td>Married</td>
    </tr>
    <tr>
      <th>4</th>
      <td>middle aged</td>
      <td>White</td>
      <td>Married</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 哑变量编码</span><br>X_cat = pd.get_dummies(X_cat)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">X_cat.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age_elderly</th>
      <th>Age_middle aged</th>
      <th>Age_thirties</th>
      <th>Race_Black</th>
      <th>Race_Other</th>
      <th>Race_White</th>
      <th>Marital Status_Married</th>
      <th>Marital Status_Other</th>
      <th>Marital Status_Single</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="合并编码后的数据资料"><a class="markdownIt-Anchor" href="#合并编码后的数据资料"></a> 合并编码后的数据资料</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">data = pd.concat([X_num_norm, X_cat, X_deg], axis=<span class="hljs-number">1</span>)<br>data.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
      <th>Age_elderly</th>
      <th>Age_middle aged</th>
      <th>Age_thirties</th>
      <th>Race_Black</th>
      <th>Race_Other</th>
      <th>Race_White</th>
      <th>...</th>
      <th>Marital Status_Single</th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-1.253506</td>
      <td>1.190528</td>
      <td>-0.618095</td>
      <td>-0.492900</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.214319</td>
      <td>-0.044089</td>
      <td>0.164786</td>
      <td>-0.405645</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.540095</td>
      <td>-0.044089</td>
      <td>0.556227</td>
      <td>0.161510</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.590617</td>
      <td>-1.525630</td>
      <td>-0.618095</td>
      <td>0.554156</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.498414</td>
      <td>-1.402168</td>
      <td>-0.618095</td>
      <td>-0.929173</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data.info()<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 4024 entries, 0 to 4023
Data columns (total 22 columns):
 #   Column                  Non-Null Count  Dtype  
---  ------                  --------------  -----  
 0   Tumor Size              4024 non-null   float64
 1   Regional Node Examined  4024 non-null   float64
 2   Regional Node Positive  4024 non-null   float64
 3   Survival Months         4024 non-null   float64
 4   Age_elderly             4024 non-null   uint8  
 5   Age_middle aged         4024 non-null   uint8  
 6   Age_thirties            4024 non-null   uint8  
 7   Race_Black              4024 non-null   uint8  
 8   Race_Other              4024 non-null   uint8  
 9   Race_White              4024 non-null   uint8  
 10  Marital Status_Married  4024 non-null   uint8  
 11  Marital Status_Other    4024 non-null   uint8  
 12  Marital Status_Single   4024 non-null   uint8  
 13  T Stage                 4024 non-null   int64  
 14  N Stage                 4024 non-null   int64  
 15  6th Stage               4024 non-null   int64  
 16  differentiate           4024 non-null   int64  
 17  Grade                   4024 non-null   int64  
 18  A Stage                 4024 non-null   int64  
 19  Estrogen Status         4024 non-null   int64  
 20  Progesterone Status     4024 non-null   int64  
 21  Status                  4024 non-null   int64  
dtypes: float64(4), int64(9), uint8(9)
memory usage: 444.2 KB
</code></pre>
<h1 id="七-相关性分析"><a class="markdownIt-Anchor" href="#七-相关性分析"></a> 七、相关性分析</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 散点图</span><br>fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>,<span class="hljs-number">4</span>))<br>sns.scatterplot(data=data, x=<span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, y=<span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>, <br>                     hue=<span class="hljs-string">&#x27;Status&#x27;</span>, palette=<span class="hljs-string">&#x27;Blues&#x27;</span>, ax=ax)<br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_67_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 相关系数矩阵</span><br>dcorr = data.corr(method=<span class="hljs-string">&#x27;spearman&#x27;</span>)<br><span class="hljs-comment"># dcorr</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 相关系数热图</span><br>fig, ax = plt.subplots(figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">16</span>))<br>sns.heatmap(dcorr, cmap=<span class="hljs-string">&#x27;Blues&#x27;</span>, annot=<span class="hljs-literal">True</span>, fmt=<span class="hljs-string">&#x27;.2f&#x27;</span>, linewidths=<span class="hljs-number">2</span>, linecolor=<span class="hljs-string">&#x27;white&#x27;</span>, square=<span class="hljs-literal">True</span>, ax=ax)<br><br>ax.tick_params(bottom=<span class="hljs-literal">False</span>, labelbottom=<span class="hljs-literal">False</span>, top=<span class="hljs-literal">True</span>, labeltop=<span class="hljs-literal">True</span>)  <span class="hljs-comment">#修改坐标轴显示</span><br>plt.setp(ax.get_xticklabels(), rotation= <span class="hljs-number">60</span>, ha=<span class="hljs-string">&quot;left&quot;</span>)    <span class="hljs-comment"># 旋转坐标轴标签的显示方向</span><br><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_69_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<h1 id="八-逻辑回归分析"><a class="markdownIt-Anchor" href="#八-逻辑回归分析"></a> 八、逻辑回归分析</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">X = data.iloc[:, :-<span class="hljs-number">1</span>]<br><span class="hljs-comment"># 人工添加截距项</span><br>X[<span class="hljs-string">&#x27;intercept&#x27;</span>] = <span class="hljs-number">1.0</span> <br>X.head()<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tumor Size</th>
      <th>Regional Node Examined</th>
      <th>Regional Node Positive</th>
      <th>Survival Months</th>
      <th>Age_elderly</th>
      <th>Age_middle aged</th>
      <th>Age_thirties</th>
      <th>Race_Black</th>
      <th>Race_Other</th>
      <th>Race_White</th>
      <th>...</th>
      <th>Marital Status_Single</th>
      <th>T Stage</th>
      <th>N Stage</th>
      <th>6th Stage</th>
      <th>differentiate</th>
      <th>Grade</th>
      <th>A Stage</th>
      <th>Estrogen Status</th>
      <th>Progesterone Status</th>
      <th>intercept</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-1.253506</td>
      <td>1.190528</td>
      <td>-0.618095</td>
      <td>-0.492900</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.214319</td>
      <td>-0.044089</td>
      <td>0.164786</td>
      <td>-0.405645</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.540095</td>
      <td>-0.044089</td>
      <td>0.556227</td>
      <td>0.161510</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.590617</td>
      <td>-1.525630</td>
      <td>-0.618095</td>
      <td>0.554156</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.498414</td>
      <td>-1.402168</td>
      <td>-0.618095</td>
      <td>-0.929173</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># # 划分训练数据和测试数据</span><br><span class="hljs-comment"># x_train, y_train = X.iloc[:3001, :], data.iloc[:3001, -1]</span><br><span class="hljs-comment"># x_test,  y_test  = X.iloc[3001:, :], data.iloc[3001:, -1]</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">X.columns<br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Index(['Tumor Size', 'Regional Node Examined', 'Regional Node Positive',
       'Survival Months', 'Age_elderly', 'Age_middle aged', 'Age_thirties',
       'Race_Black', 'Race_Other', 'Race_White', 'Marital Status_Married',
       'Marital Status_Other', 'Marital Status_Single ', 'T Stage', 'N Stage',
       '6th Stage', 'differentiate', 'Grade', 'A Stage', 'Estrogen Status',
       'Progesterone Status', 'intercept'],
      dtype='object')
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">cols = [<span class="hljs-string">&#x27;Regional Node Examined&#x27;</span>, <span class="hljs-string">&#x27;Regional Node Positive&#x27;</span>,<br>       <span class="hljs-string">&#x27;Age_middle aged&#x27;</span>,<span class="hljs-string">&#x27;Age_elderly&#x27;</span>,<br>       <span class="hljs-string">&#x27;Race_Black&#x27;</span>, <span class="hljs-string">&#x27;Race_Other&#x27;</span>, <br>       <span class="hljs-string">&#x27;Marital Status_Other&#x27;</span>, <span class="hljs-string">&#x27;Marital Status_Single &#x27;</span>, <span class="hljs-string">&#x27;T Stage&#x27;</span>, <span class="hljs-string">&#x27;N Stage&#x27;</span>,<br>       <span class="hljs-string">&#x27;Grade&#x27;</span>, <span class="hljs-string">&#x27;Estrogen Status&#x27;</span>,<br>       <span class="hljs-string">&#x27;Progesterone Status&#x27;</span>, <span class="hljs-string">&#x27;intercept&#x27;</span>]<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> statsmodels.api <span class="hljs-keyword">as</span> sm<br><span class="hljs-keyword">import</span> statsmodels.formula.api <span class="hljs-keyword">as</span> smf<br><br><span class="hljs-comment"># model = sm.Logit(y_train, x_train[cols]).fit()</span><br>model = sm.Logit(data.iloc[:, -<span class="hljs-number">1</span>], X[cols]).fit()<br><br>model.summary()    <span class="hljs-comment"># Logit分析结果</span><br></code></pre></td></tr></table></figure>
<pre><code class="hljs">Optimization terminated successfully.
         Current function value: 0.369082
         Iterations 7
</code></pre>
<table class="simpletable">
<caption>Logit Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>        <td>Status</td>      <th>  No. Observations:  </th>  <td>  4024</td>  
</tr>
<tr>
  <th>Model:</th>                 <td>Logit</td>      <th>  Df Residuals:      </th>  <td>  4010</td>  
</tr>
<tr>
  <th>Method:</th>                 <td>MLE</td>       <th>  Df Model:          </th>  <td>    13</td>  
</tr>
<tr>
  <th>Date:</th>            <td>Thu, 24 Nov 2022</td> <th>  Pseudo R-squ.:     </th>  <td>0.1377</td>  
</tr>
<tr>
  <th>Time:</th>                <td>20:48:45</td>     <th>  Log-Likelihood:    </th> <td> -1485.2</td> 
</tr>
<tr>
  <th>converged:</th>             <td>True</td>       <th>  LL-Null:           </th> <td> -1722.3</td> 
</tr>
<tr>
  <th>Covariance Type:</th>     <td>nonrobust</td>    <th>  LLR p-value:       </th> <td>4.157e-93</td>
</tr>
</table>
<table class="simpletable">
<tr>
             <td></td>               <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Regional Node Examined</th> <td>   -0.2905</td> <td>    0.058</td> <td>   -5.013</td> <td> 0.000</td> <td>   -0.404</td> <td>   -0.177</td>
</tr>
<tr>
  <th>Regional Node Positive</th> <td>    0.3761</td> <td>    0.073</td> <td>    5.151</td> <td> 0.000</td> <td>    0.233</td> <td>    0.519</td>
</tr>
<tr>
  <th>Age_middle aged</th>        <td>   -0.4149</td> <td>    0.205</td> <td>   -2.026</td> <td> 0.043</td> <td>   -0.816</td> <td>   -0.013</td>
</tr>
<tr>
  <th>Age_elderly</th>            <td>   -0.0760</td> <td>    0.191</td> <td>   -0.397</td> <td> 0.691</td> <td>   -0.451</td> <td>    0.299</td>
</tr>
<tr>
  <th>Race_Black</th>             <td>    0.5069</td> <td>    0.161</td> <td>    3.157</td> <td> 0.002</td> <td>    0.192</td> <td>    0.822</td>
</tr>
<tr>
  <th>Race_Other</th>             <td>   -0.4521</td> <td>    0.202</td> <td>   -2.242</td> <td> 0.025</td> <td>   -0.847</td> <td>   -0.057</td>
</tr>
<tr>
  <th>Marital Status_Other</th>   <td>    0.3056</td> <td>    0.117</td> <td>    2.602</td> <td> 0.009</td> <td>    0.075</td> <td>    0.536</td>
</tr>
<tr>
  <th>Marital Status_Single </th> <td>    0.1097</td> <td>    0.134</td> <td>    0.819</td> <td> 0.413</td> <td>   -0.153</td> <td>    0.372</td>
</tr>
<tr>
  <th>T Stage</th>                <td>    0.3083</td> <td>    0.061</td> <td>    5.083</td> <td> 0.000</td> <td>    0.189</td> <td>    0.427</td>
</tr>
<tr>
  <th>N Stage</th>                <td>    0.3467</td> <td>    0.106</td> <td>    3.256</td> <td> 0.001</td> <td>    0.138</td> <td>    0.555</td>
</tr>
<tr>
  <th>Grade</th>                  <td>    0.4238</td> <td>    0.079</td> <td>    5.383</td> <td> 0.000</td> <td>    0.270</td> <td>    0.578</td>
</tr>
<tr>
  <th>Estrogen Status</th>        <td>   -0.7030</td> <td>    0.176</td> <td>   -3.998</td> <td> 0.000</td> <td>   -1.048</td> <td>   -0.358</td>
</tr>
<tr>
  <th>Progesterone Status</th>    <td>   -0.5845</td> <td>    0.127</td> <td>   -4.602</td> <td> 0.000</td> <td>   -0.833</td> <td>   -0.336</td>
</tr>
<tr>
  <th>intercept</th>              <td>   -1.6366</td> <td>    0.272</td> <td>   -6.027</td> <td> 0.000</td> <td>   -2.169</td> <td>   -1.104</td>
</tr>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># OR值 和 95%置信区间</span><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>params = np.exp(model.params)<br>conf = np.exp(model.conf_int())<br>conf[<span class="hljs-string">&#x27;OR&#x27;</span>] = params<br>conf.columns = [<span class="hljs-string">&#x27;2.5%&#x27;</span>,<span class="hljs-string">&#x27;97.5%&#x27;</span>,<span class="hljs-string">&#x27;OR&#x27;</span>]<br>conf<br></code></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code class="hljs">.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2.5%</th>
      <th>97.5%</th>
      <th>OR</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Regional Node Examined</th>
      <td>0.667605</td>
      <td>0.837845</td>
      <td>0.747896</td>
    </tr>
    <tr>
      <th>Regional Node Positive</th>
      <td>1.262375</td>
      <td>1.680761</td>
      <td>1.456623</td>
    </tr>
    <tr>
      <th>Age_middle aged</th>
      <td>0.442022</td>
      <td>0.986634</td>
      <td>0.660389</td>
    </tr>
    <tr>
      <th>Age_elderly</th>
      <td>0.637089</td>
      <td>1.348257</td>
      <td>0.926801</td>
    </tr>
    <tr>
      <th>Race_Black</th>
      <td>1.211877</td>
      <td>2.274171</td>
      <td>1.660125</td>
    </tr>
    <tr>
      <th>Race_Other</th>
      <td>0.428512</td>
      <td>0.944778</td>
      <td>0.636277</td>
    </tr>
    <tr>
      <th>Marital Status_Other</th>
      <td>1.078346</td>
      <td>1.708693</td>
      <td>1.357410</td>
    </tr>
    <tr>
      <th>Marital Status_Single</th>
      <td>0.858255</td>
      <td>1.451147</td>
      <td>1.115999</td>
    </tr>
    <tr>
      <th>T Stage</th>
      <td>1.208529</td>
      <td>1.532885</td>
      <td>1.361079</td>
    </tr>
    <tr>
      <th>N Stage</th>
      <td>1.147983</td>
      <td>1.742592</td>
      <td>1.414378</td>
    </tr>
    <tr>
      <th>Grade</th>
      <td>1.309329</td>
      <td>1.782662</td>
      <td>1.527773</td>
    </tr>
    <tr>
      <th>Estrogen Status</th>
      <td>0.350761</td>
      <td>0.698828</td>
      <td>0.495098</td>
    </tr>
    <tr>
      <th>Progesterone Status</th>
      <td>0.434554</td>
      <td>0.714957</td>
      <td>0.557393</td>
    </tr>
    <tr>
      <th>intercept</th>
      <td>0.114312</td>
      <td>0.331415</td>
      <td>0.194640</td>
    </tr>
  </tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>,<span class="hljs-number">5</span>))<br><br><span class="hljs-keyword">for</span> d,c <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(conf.index, conf.values):<br>    <span class="hljs-keyword">if</span> d <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;intercept&#x27;</span>,<span class="hljs-string">&#x27;Age_elderly&#x27;</span>,<span class="hljs-string">&#x27;Marital Status_Single &#x27;</span>]:<br>        plt.plot([c[<span class="hljs-number">0</span>],c[<span class="hljs-number">1</span>]],[d,d],<span class="hljs-string">&#x27;-&#x27;</span>,<span class="hljs-number">0.25</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>,alpha=<span class="hljs-number">0.3</span>)<br>        plt.plot(c[<span class="hljs-number">2</span>],d, <span class="hljs-string">&#x27;s&#x27;</span>,<span class="hljs-number">0.25</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>,alpha=<span class="hljs-number">0.3</span>)<br>    <span class="hljs-keyword">else</span>:<br>        plt.plot([c[<span class="hljs-number">0</span>],c[<span class="hljs-number">1</span>]],[d,d],<span class="hljs-string">&#x27;-&#x27;</span>,<span class="hljs-number">0.25</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>)<br>        plt.plot(c[<span class="hljs-number">2</span>],d, <span class="hljs-string">&#x27;s&#x27;</span>,<span class="hljs-number">0.25</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>)<br><br>plt.axvline(<span class="hljs-number">1</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>,color=<span class="hljs-string">&#x27;grey&#x27;</span>,linewidth=<span class="hljs-number">1</span>)<br><br>ax.tick_params(bottom=<span class="hljs-literal">True</span>, labelbottom=<span class="hljs-literal">True</span>, top=<span class="hljs-literal">False</span>, labeltop=<span class="hljs-literal">False</span>,left=<span class="hljs-literal">False</span>) <br>ax.spines[<span class="hljs-string">&#x27;top&#x27;</span>].set_visible(<span class="hljs-literal">False</span>)<br>ax.spines[<span class="hljs-string">&#x27;right&#x27;</span>].set_visible(<span class="hljs-literal">False</span>)<br>ax.spines[<span class="hljs-string">&#x27;left&#x27;</span>].set_visible(<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_77_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve, auc<br><br><span class="hljs-comment"># 测试集分类预测</span><br><span class="hljs-comment"># resu = model.predict(x_test[cols])</span><br><span class="hljs-comment"># fpr, tpr, threshold = roc_curve(y_test, resu)</span><br><br>resu = model.predict(X[cols])<br>fpr, tpr, threshold = roc_curve(data.iloc[:,-<span class="hljs-number">1</span>], resu)<br><br><span class="hljs-comment">#计算ROC，并绘制曲线</span><br>rocauc = auc(fpr, tpr)<br>plt.plot(fpr, tpr, <span class="hljs-string">&#x27;r&#x27;</span>, label=<span class="hljs-string">&#x27;AUC = %0.2f&#x27;</span> % rocauc)<br>plt.plot([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;grey&#x27;</span>,linestyle=<span class="hljs-string">&#x27;--&#x27;</span>)<br>plt.xlim([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>])<br>plt.ylim([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>])<br>plt.ylabel(<span class="hljs-string">&#x27;True rate&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;False rate&#x27;</span>)<br>plt.legend(loc=<span class="hljs-string">&#x27;lower right&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/img/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/output_78_0.png" srcset="/img/loading.gif" lazyload alt=" " /></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" class="category-chain-item">数据分析</a>
  
  
    <span>></span>
    
  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/Logit%E5%9B%9E%E5%BD%92/" class="category-chain-item">Logit回归</a>
  
  

  

      </span>
    
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" class="category-chain-item">编程语言</a>
  
  
    <span>></span>
    
  <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/" class="category-chain-item">Python</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Logit%E5%9B%9E%E5%BD%92/">Logit回归</a>
      
        <a href="/tags/Python/">Python</a>
      
    </div>
  
</div>


              
  
  
  <div class="license-box my-3">
    <div class="license-title">
      <p>
      本书屋所有文章除特别声明外，均采用
      <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/"> CC BY-SA 4.0 </a>
      协议 ，转载请注明出处！
      </p>
      <!-- 
      <div>数据分析与可视化</div>
      <div>https://eastwode.gitee.io/2022/11/24/数据分析与可视化/</div>
      -->
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>东木子</div>
        </div>
      
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
                <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="SA - 相同方式共享">
                    <i class="iconfont icon-sa"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/12/06/Python%20%E7%BB%98%E5%9B%BE%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8F%82%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95/" title="Python 绘图常用参数和方法">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python 绘图常用参数和方法</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/11/24/%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%A8%A1%E6%8B%9F/" title="蒙特卡洛模拟">
                        <span class="hidden-mobile">蒙特卡洛模拟</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"IYdzx7L4HhTq4ugmU38bcTeL-gzGzoHsz","appKey":"AyfUXKKGpuk6w4nD9mSTJ9gQ","path":"window.location.pathname","placeholder":"说点什么...","avatar":"hide","meta":["nick","mail"],"requiredFields":["nick","mail"],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":false,"serverURLs":"https://iydzx7l4.lc-cn-n1-shared.com","emojiCDN":"//i0.hdslb.com/bfs/emote/","emojiMaps":{"tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_亲亲":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_偷笑":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_再见":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_冷漠":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_发怒":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_发财":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_可爱":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_吐血":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_呆":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_呕吐":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_困":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_坏笑":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_大佬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_大哭":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_委屈":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_害羞":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_尴尬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_微笑":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_思考":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_惊吓":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"},"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  




  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.events.registerRefreshCallback(function() {
      if ('mermaid' in window) {
        mermaid.init();
      }
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
